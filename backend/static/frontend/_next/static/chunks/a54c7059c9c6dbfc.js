(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9324,e=>{"use strict";var t=e.i(47167);let s="http://localhost:5000";t.default.env.NEXT_PUBLIC_TEST_MODE;class r extends Error{constructor(e="Unauthorized"){super(e),this.name="UnauthorizedError"}}async function a(){let e=await fetch(`${s}/users/current`,{credentials:"include"});if(401===e.status)throw new r("Not authenticated");if(!e.ok)throw Error("Failed to fetch user data");return e.json()}async function l(e){let t=await fetch(`${s}/tasks?user_id=${e}`,{credentials:"include"});if(401===t.status)throw new r("Not authenticated");if(!t.ok)throw Error("Failed to fetch tasks");return t.json()}async function n(e){let t=await fetch(`${s}/tasks/${e}/complete`,{method:"POST",credentials:"include"});if(401===t.status)throw new r("Not authenticated");if(!t.ok)throw Error("Failed to complete task")}function i(e,t,s){return function(e,t){for(let s of Object.keys(e).sort())if(e[s].some(e=>e.task_id===t))return s;return null}(e,t)===s}async function o(){let e=await fetch(`${s}/auth/calendar/export`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(401===e.status)throw new r("Not authenticated");if(!e.ok)throw Error((await e.json()).error||"Failed to export tasks to calendar");return e.json()}e.s(["API_BASE_URL",0,s,"canCompleteTask",()=>i,"completeTask",()=>n,"exportToCalendar",()=>o,"fetchCurrentUser",()=>a,"fetchUserTasks",()=>l])},18566,(e,t,s)=>{t.exports=e.r(76562)},31713,e=>{"use strict";var t=e.i(47167),s=e.i(43476),r=e.i(71645),a=e.i(18566),l=e.i(9324);function n({userName:e,onNewTask:t}){let[a,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)("idle"),[d,c]=(0,r.useState)(""),u=async()=>{n(!0),o("idle");try{let e=await (0,l.exportToCalendar)();o("success"),c(`${e.success} tasks exported${e.failed>0?`, ${e.failed} failed`:""}`),setTimeout(()=>o("idle"),5e3)}catch(e){o("error"),c(e instanceof Error?e.message:"Failed to export tasks"),setTimeout(()=>o("idle"),5e3)}finally{n(!1)}};return(0,s.jsxs)("aside",{className:"w-72 bg-gray-900 text-white p-6 flex flex-col h-screen shadow-xl",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-[#D97757] flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),(0,s.jsx)("span",{className:"text-xl font-semibold tracking-tight",children:"Tasks"})]}),(0,s.jsxs)("div",{className:"px-3 py-2 rounded-lg bg-gray-800/50",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Welcome back,"}),(0,s.jsx)("p",{className:"font-medium text-white truncate",children:e})]})]}),(0,s.jsxs)("button",{onClick:t,className:"w-full bg-[#D97757] hover:bg-[#C4684A] text-white font-semibold py-3 px-4 rounded-xl shadow-lg shadow-[#D97757]/20 flex items-center justify-center gap-2 transition-all duration-200",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Task"]}),(0,s.jsx)("button",{onClick:u,disabled:a,className:`w-full mt-3 font-semibold py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-200 ${a?"bg-gray-700 text-gray-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white shadow-lg shadow-blue-600/20"}`,children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Exporting..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export to Calendar"]})}),"idle"!==i&&(0,s.jsx)("div",{className:`mt-3 p-3 rounded-lg text-sm font-medium animate-fade-in ${"success"===i?"bg-green-900/30 text-green-300 border border-green-700/50":"bg-red-900/30 text-red-300 border border-red-700/50"}`,children:d}),(0,s.jsx)("div",{className:"flex-1 mt-8"}),(0,s.jsx)("div",{className:"pt-4 border-t border-gray-800",children:(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Stay productive"})})]})}function i({task:e,isCompleteDisabled:t,onComplete:r,onEdit:a,isLoading:l=!1}){return(0,s.jsxs)("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-gray-100 hover:shadow-md hover:border-gray-200 flex items-center justify-between group",children:[(0,s.jsxs)("div",{className:"flex-1 cursor-pointer",onClick:()=>a(e.task_id,e.title),children:[(0,s.jsx)("h3",{className:"text-base font-medium text-gray-900 group-hover:text-[#D97757]",children:e.title}),(0,s.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 text-sm text-gray-500",children:[(0,s.jsx)("svg",{className:"w-4 h-4 text-[#D97757]",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z"})}),e.streak," day streak"]})})]}),(0,s.jsx)("button",{onClick:()=>{t||l||r()},disabled:t||l,className:`ml-4 w-11 h-11 rounded-full flex items-center justify-center ${t||l?"bg-gray-100 text-gray-300 cursor-not-allowed":"bg-[#D97757]/10 text-[#D97757] hover:bg-[#D97757] hover:text-white cursor-pointer"}`,title:t?"Can only complete the next upcoming task":"Mark as complete","aria-label":`Complete ${e.title}`,children:l?(0,s.jsxs)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})})})]})}function o({date:e,tasks:t,allTasks:r,onCompleteTask:a,onEditTask:n,loadingTaskId:o}){let d,c,u,{weekday:x,date:h,isToday:m}=(d=new Date(e+"T00:00:00"),(c=new Date).setHours(0,0,0,0),u=d.getTime()===c.getTime(),{weekday:d.toLocaleDateString("en-US",{weekday:"long"}),date:d.toLocaleDateString("en-US",{month:"short",day:"numeric"}),isToday:u});return(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:m?"Today":x}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:h})]}),m&&(0,s.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-[#D97757]/10 text-[#D97757] rounded-full",children:"Today"})]}),(0,s.jsx)("div",{className:"space-y-3 pl-7",children:t.map(t=>(0,s.jsx)(i,{task:t,isCompleteDisabled:!(0,l.canCompleteTask)(r,t.task_id,e),onComplete:()=>a(t.id,t.task_id),onEdit:n,isLoading:o===t.id},t.id))})]})}function d({isOpen:e,title:t,children:r,onClose:a,footer:l}){return e?(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-900/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 py-5 border-b border-gray-100",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:t}),(0,s.jsx)("button",{onClick:a,className:"w-8 h-8 rounded-full flex items-center justify-center text-gray-400 hover:text-gray-600 hover:bg-gray-100","aria-label":"Close modal",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:"px-6 py-5",children:r}),l&&(0,s.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:l})]})}):null}let c=[{label:"Mon",value:"mon"},{label:"Tue",value:"tue"},{label:"Wed",value:"wed"},{label:"Thu",value:"thu"},{label:"Fri",value:"fri"},{label:"Sat",value:"sat"},{label:"Sun",value:"sun"}],u=["General","Work","Personal","Health","Finance","Travel","Entertainment","Family"];function x({isOpen:e,onClose:t,onTaskCreated:a,userId:n,isLoading:i=!1}){let[o,x]=(0,r.useState)(""),[h,m]=(0,r.useState)([]),[g,f]=(0,r.useState)("General"),[p,b]=(0,r.useState)(null),[j,y]=(0,r.useState)(!1),k=async()=>{if(b(null),!o.trim())return void b("Task title is required");if(0===h.length)return void b("Please select at least one day");try{y(!0),console.log(g);let e=await fetch(`${l.API_BASE_URL}/tasks`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({user_id:n,title:o.trim(),frequency:h,category:g})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to create task")}x(""),m([]),t(),a()}catch(e){b(e instanceof Error?e.message:"An error occurred"),console.error("Error creating task:",e)}finally{y(!1)}},v=()=>{j||(x(""),m([]),f("General"),b(null),t())};return(0,s.jsx)(d,{isOpen:e,title:"Create New Task",onClose:v,footer:(0,s.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,s.jsx)("button",{onClick:v,disabled:j,className:"px-5 py-2.5 text-gray-600 font-medium rounded-lg hover:bg-gray-100 disabled:opacity-50",children:"Cancel"}),(0,s.jsx)("button",{onClick:k,disabled:j||i,className:"px-5 py-2.5 bg-[#D97757] text-white font-medium rounded-lg hover:bg-[#C4684A] disabled:opacity-50 shadow-sm",children:j?"Creating...":"Create Task"})]}),children:(0,s.jsxs)("div",{className:"space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Title"}),(0,s.jsx)("input",{type:"text",value:o,onChange:e=>x(e.target.value),placeholder:"e.g., Go to gym",disabled:j,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#D97757]/30 focus:border-[#D97757] focus:bg-white disabled:bg-gray-100 placeholder:text-gray-400"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Repeat on"}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-2",children:c.map(e=>(0,s.jsx)("button",{onClick:()=>{var t;return t=e.value,void m(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},disabled:j,className:`py-2.5 px-1 rounded-lg font-medium text-sm disabled:opacity-50 ${h.includes(e.value)?"bg-[#D97757] text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.label},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,s.jsx)("select",{value:g,onChange:e=>f(e.target.value),disabled:j,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#D97757]/30 focus:border-[#D97757] focus:bg-white disabled:bg-gray-100",children:u.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),p&&(0,s.jsxs)("div",{className:"p-3 bg-red-50 border border-red-100 rounded-lg text-red-600 text-sm flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),p]})]})})}function h({isOpen:e,onClose:t,onTaskUpdated:a,taskId:n,currentTitle:i,isLoading:o=!1}){let[c,u]=(0,r.useState)(i),[x,h]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e&&(u(i),h(null))},[e,i]);let b=async()=>{if(h(null),!c.trim())return void h("Task title is required");if(c.trim()===i.trim())return void h("Please make a change to update the task");if(!n)return void h("Task ID not found");try{g(!0);let e=await fetch(`${l.API_BASE_URL}/tasks/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:c.trim()})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to update task")}t(),a()}catch(e){h(e instanceof Error?e.message:"An error occurred"),console.error("Error updating task:",e)}finally{g(!1)}},j=()=>{m||f||(u(i),h(null),t())},y=async()=>{if(!n)return void h("Task ID not found");if(confirm("Are you sure you want to delete this task? This cannot be undone."))try{p(!0),h(null);let e=await fetch(`${l.API_BASE_URL}/tasks/${n}`,{method:"DELETE",credentials:"include"});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to delete task")}t(),a()}catch(e){h(e instanceof Error?e.message:"An error occurred"),console.error("Error deleting task:",e)}finally{p(!1)}};return(0,s.jsx)(d,{isOpen:e,title:"Edit Task",onClose:j,footer:(0,s.jsxs)("div",{className:"flex gap-3 justify-between items-center",children:[(0,s.jsxs)("button",{onClick:y,disabled:f||m,className:"px-4 py-2.5 text-red-600 font-medium rounded-lg hover:bg-red-50 disabled:opacity-50 flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),f?"Deleting...":"Delete"]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:j,disabled:m||f,className:"px-5 py-2.5 text-gray-600 font-medium rounded-lg hover:bg-gray-100 disabled:opacity-50",children:"Cancel"}),(0,s.jsx)("button",{onClick:b,disabled:m||o||f||c.trim()===i.trim(),className:"px-5 py-2.5 bg-[#D97757] text-white font-medium rounded-lg hover:bg-[#C4684A] disabled:opacity-50 shadow-sm",children:m?"Saving...":"Save Changes"})]})]}),children:(0,s.jsxs)("div",{className:"space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task Title"}),(0,s.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Task title",disabled:m||f,autoFocus:!0,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#D97757]/30 focus:border-[#D97757] focus:bg-white disabled:bg-gray-100 placeholder:text-gray-400"})]}),x&&(0,s.jsxs)("div",{className:"p-3 bg-red-50 border border-red-100 rounded-lg text-red-600 text-sm flex items-center gap-2",children:[(0,s.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),x]})]})})}function m(){let e=(0,a.useRouter)(),[i,d]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[m,g]=(0,r.useState)(!0),[f,p]=(0,r.useState)(null),[b,j]=(0,r.useState)(null),[y,k]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!1),[N,C]=(0,r.useState)(null),[T,L]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{try{g(!0),p(null);let e=await (0,l.fetchCurrentUser)();d(e);let t=await (0,l.fetchUserTasks)(e.id);u(t)}catch(r){let s=r instanceof Error?r.message:"An error occurred";console.error("Error loading data:",r),r instanceof Error&&"UnauthorizedError"===r.name?"true"!==t.default.env.NEXT_PUBLIC_TEST_MODE?e.push("/signin"):p("Test mode: Authentication failed. Ensure backend test-login endpoint is available."):p(s)}finally{g(!1)}})()},[e]);let E=async(e,t)=>{try{if(j(e),await (0,l.completeTask)(e),i){let e=await (0,l.fetchUserTasks)(i.id);u(e)}}catch(e){p(e instanceof Error?e.message:"Failed to complete task"),console.error("Error completing task:",e)}finally{j(null)}},S=()=>{k(!0)},D=async()=>{i&&u(await (0,l.fetchUserTasks)(i.id))},A=(e,t)=>{C(e),L(t),w(!0)},M=async()=>{i&&u(await (0,l.fetchUserTasks)(i.id))};return m?(0,s.jsx)("div",{className:"flex h-screen items-center justify-center bg-[#FAF9F7]",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 mx-auto mb-4 rounded-xl bg-[#D97757]/10 flex items-center justify-center",children:(0,s.jsxs)("svg",{className:"w-6 h-6 text-[#D97757] animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),(0,s.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading your tasks..."})]})}):f||!i?(0,s.jsx)("div",{className:"flex h-screen items-center justify-center bg-[#FAF9F7]",children:(0,s.jsxs)("div",{className:"text-center max-w-md px-6",children:[(0,s.jsx)("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-red-50 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),(0,s.jsx)("p",{className:"text-gray-500 mb-6",children:f||"Failed to load user data"}),(0,s.jsxs)("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center gap-2 bg-[#D97757] hover:bg-[#C4684A] text-white font-medium py-2.5 px-5 rounded-xl shadow-sm",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Try again"]})]})}):(0,s.jsxs)("div",{className:"flex h-screen bg-[#FAF9F7]",children:[(0,s.jsx)(n,{userName:i.name,onNewTask:S}),(0,s.jsx)("main",{className:"flex-1 overflow-auto",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto p-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Your Tasks"}),(0,s.jsx)("p",{className:"text-gray-500 mt-1",children:"Stay on track with your daily habits"})]}),c&&Object.keys(c).length>0?(0,s.jsx)("div",{children:Object.entries(c).map(([e,t])=>(0,s.jsx)(o,{date:e,tasks:t,allTasks:c,onCompleteTask:E,onEditTask:A,loadingTaskId:b||void 0},e))}):(0,s.jsxs)("div",{className:"text-center py-16",children:[(0,s.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 rounded-2xl bg-gray-100 flex items-center justify-center",children:(0,s.jsx)("svg",{className:"w-10 h-10 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No tasks yet"}),(0,s.jsx)("p",{className:"text-gray-500 mb-6 max-w-sm mx-auto",children:"Get started by creating your first recurring task to build better habits."}),(0,s.jsxs)("button",{onClick:S,className:"inline-flex items-center gap-2 bg-[#D97757] hover:bg-[#C4684A] text-white font-medium py-2.5 px-5 rounded-xl shadow-sm",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create your first task"]})]})]})}),i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{isOpen:y,onClose:()=>k(!1),onTaskCreated:D,userId:i.id}),(0,s.jsx)(h,{isOpen:v,onClose:()=>w(!1),onTaskUpdated:M,taskId:N,currentTitle:T})]})]})}e.s(["default",()=>m],31713)}]);